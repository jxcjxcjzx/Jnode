<?xml version="1.0 encoding="utf-8 "?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

 <head>

    <title>GUI 系统需求描述</title>
    
    <link href="../rss/feed.rss" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed" />

    <meta name="generator" content="muse.el" />

    <meta http-equiv="Content-Type"
  content="text/html; charset=utf-8" />

    

    <link
  rel="stylesheet"
  type="text/css"
  charset="utf-8"
  media="all"
  href="../css/site.css"/>

  </head>

<script>
function addfavorite()
{
   if (document.all)
   {
      window.external.addFavorite('http://www.linuxgraphics.cn','Linux GUI 技术网');
   }
   else if (window.sidebar)
   {
      window.sidebar.addPanel('Linux GUI技术网', 'http://www.linuxgraphics.cn',  "");
   }
}
</script>

 <body>
  <div id="wrap">

    <table id="sitehead" align="center" cellpadding="0" cellspacing="0" border="0" >
        <tr>
            <td class="l"></td>
            <td class="m">
                <table align="center" width="100%">
                    <tr>
                        <td width="200">
                            <img id="titleimg" alt="head title linux graphics" src="../images/linux_graphics_logo.gif" />
                        </td>
                        <td align="center">
                        </td>
                        <td width="100" align="center" style="line-height:120%">
                            <a href="#" onclick="addfavorite()">加入收藏</a><br/>
                            <a href="http://www.linuxgraphics.cn/news/about.html">关于本站</a><br/>
                            <a href="http://www.graphics-labs.com">联系我们</a><br/>
                            <img src="../images/feed-icon.gif" /><a href="../rss/feed.rss"> RSS</a>
                        </td> 
                    </tr>
                </table>
            </td>
            <td class="r"></td>
        </tr>
    </table>
<!-- 
    <table id="navbar" cellpading="0" cellspacing="0" align="center">
        <tr>
            <td class="l"></td>
            <td class="m">
                <span><a href="../news/index.html">首页</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../news/index.html">新闻</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../uishow/index.html">UI Show</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../gui/index.html">设计模式</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../graphics/index.html">图形渲染</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
               <span><a href="../physics/index.html">物理引擎</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../animation/index.html">动画引擎</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../window_manager/index.html">窗口管理</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../xwindow/index.html">X Window</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../gtk/index.html">GTK+</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../qt/index.html">QT</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../directfb/index.html">DirectFB</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../minigui/index.html">MiniGUI</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../clutter/index.html">Clutter</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../android/index.html">Android</a></span>
                <span><img src="../images/navbar_separator.gif" /></span>
                <span><a href="../bbs">论坛</a></span>
            </td>
            <td class="r"></td>
        </tr>
    </table>
-->
    <table id="navsub" cellpading="0" cellspacing="0">
        <tr>
            <td class="l"></td>
            <td class="m">&nbsp; 
                Linux Graphics -> Design Pattern
            </td>
            <td class="r"></td>
        </tr>
    </table>

    <table id="body" cellpading="0" cellspacing="0">
    <tr>
      <td id="left">
        <div class="menu"><div class="menuhead">文章分类</div><div class="menubody"><div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/home/index.html">
首页</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/news/index.html">
新闻</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/uishow/index.html">
Design Show</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/gui/index.html">
设计模式</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/graphics/index.html">
图形渲染</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/physics/index.html">
物理引擎</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/animation/index.html">
动画引擎</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/window_manager/index.html">
窗口管理</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/opengl/index.html">
OpenGL开发</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/ogre/index.html">
OGRE</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/xwindow/index.html">
X Window</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/gtk/index.html">
GTK+</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/qt/index.html">
QT</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/directfb/index.html">
DirectFB</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/minigui/index.html">
MiniGUI</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/clutter/index.html">
Clutter</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/android/index.html">
Android</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/psp/index.html">
PSP</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/macosx/index.html">
Mac OS X</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/ftk/index.html">
FTK</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/qnx/index.html">
QNX</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/beagle/index.html">
BeagleBoard</a></div>
<div class="menuitem">
<img src='../images/folderClose.gif' /> <a href="http://www.linuxgraphics.cn/bbs">
论坛</a></div></div></div>
<!--
        <div id="feed">
            <img src="../images/feed-icon.gif" />
            <a href="../rss/feed.rss">RSS</a>
        </div>
-->

        <div>
            <script type="text/javascript"><!--
google_ad_client = "pub-1186285971566719";
/* 160x600, linuxgraphics, created 5/22/09 */
google_ad_slot = "7412866712";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
            </script>

        </div>

      </td>

      <td id="content">

        <table class="headline">
            <tr>
                <td>
                   <div class="navheadbar"></div> 
                </td>
            </tr>
            <tr class="headline">
                <td class="leftheadline">
                    <div class="info">
                        <div class="title">
                            GUI 系统需求描述
                        </div>

                        <div class="about">
                          <strong>作者:</strong>
                          刘鹏
                        </div>

                        <div class="lastchange">
                           <strong> 日期: </strong> 
                           2009-09-21
                        </div>

                        <div class="about">
                          文本总结了一个 GUI 系统需要具备的 features 及其需要考虑的问题。
                        </div>

                    </div>
                </td>
            </tr>
        </table>
        <table class="content">
            <tr>
                <td>
        <!-- Page -->
<h4>核心需求</h4>

<ul>
<li><strong><em>体系结构</em></strong>：C/S 架构，灵活，易于扩展</li>

<li><strong><em>消息驱动机制</em></strong>：消息队列、消息循环、消息处理</li>

<li><strong><em>鼠标、键盘、触摸屏的事件处理</em></strong></li>

<li><strong><em>高效的窗口剪切算法</em></strong>：使用 Z 序管理窗口的覆盖关系；绘制窗口前要将多个
窗口映射到屏幕上，计算每个窗口受剪切的区域，被覆盖的部分被剪掉不绘
制,一个高效的窗口剪切算法非常重要<sup><a class="footref" name="fnr.3" href="#fn.3">3</a></sup>；</li>

<li><strong><em>窗口管理器(Window Manager)</em></strong>: 窗口管理，可以考虑做一个窗口管理器抽象
层，使 GUI 不依赖于某个具体的窗口管理器；</li>

<li><strong><em>组合窗口管理器(Compositing window manager)</em></strong>: 多个 surface 的组合；</li>

<li><strong><em>强大高效的图形库</em></strong>：支持 2D/3D，2D图形库(矢量的/栅格的)，3D图形库
(<a href="../opengl/index.html">OpenGL</a>)</li>
<li><strong><em>图像处理能力</em></strong></li>

<li><strong><em>半透明窗口、不规则窗口</em></strong></li>

<li><strong><em>图形抽象层</em></strong>：如 <a href="../minigui/index.html">MiniGUI</a> 的 GAL</li>

<li><strong><em>输入抽象层</em></strong>：如 <a href="../minigui/index.html">MiniGUI</a> 的 IAL</li>

<li><strong><em>字体引擎</em></strong>：text/font</li>

<li><strong><em>手势识别引擎(gesture recoginzation engine)</em></strong>: 点击、滑动(fling)、多点触摸等；可纯软件实现，也可硬件支持；</li>

<li><strong><em>窗口主题(theme)</em></strong></li>

<li><strong><em>窗口界面描述(UI define files)</em></strong>：xml/css/JSON</li>

<li><strong><em>硬件加速功能</em></strong></li>

<li><strong><em>支持定点数运算</em></strong></li>

<li><strong><em>动画(animation)支持</em></strong></li>

<li>SDK 和 IDE</li>

<li><strong><em>跨平台</em></strong>：linux, unix, windows, MacOS X,......</li>

<li>testing framework</li>
</ul>



<h4>图形功能</h4>

<ul>
<li>基本图元的绘制：点、线、多边形</li>
<li>alpha blend：可用于实现光源、火光、烟雾等；</li>
<li>clip：支持任意形状的剪切域；</li>
<li>Compositing images：Porter-Duff operation，12 种组合方式；</li>
<li>gamma 校正：可用于实现淡入、淡出、渐变等效果；</li>
<li>gradient 梯度：可用于渐变填充；</li>
<li>Patterns 填充样式;</li>
<li>shadow 阴影;</li>
<li>Transparency Layers</li>
<li>Bitmap Images and Image Masks</li>
<li>粒子系统及其辅助设计工具</li>
</ul>


<h4>图像处理功能<sup><a class="footref" name="fnr.1" href="#fn.1">1</a></sup><sup><a class="footref" name="fnr.2" href="#fn.2">2</a></sup></h4>

<ul>
<li>多种图像格式的支持</li>
<li>复制(duplicate)</li>
<li>Mode (RGB, Grayscale, indexed)</li>
<li>缩放、平移、旋转</li>
<li>颜色：color balance,brightness-contrast,levels</li>
<li>图像 Alpha 值的调整</li>
<li>模糊 (blur)</li>
<li>增强 (enhance)</li>
<li>扭曲 (distort)：page curl, ripple, wave</li>
<li>光照和阴影 (light and shadow)</li>
<li>噪声 (noise) 处理</li>
<li>边缘检测 (edge detect)</li>
<li>卷积矩阵 (convolution matrix)</li>
<li>图像处理辅助设计工具</li>
</ul>



<h4>高级需求</h4>

<ul>
<li>video support</li>
<li>audio support</li>
<li>database support</li>
<li>xml support</li>
<li>webkit integrated</li>
<li>language bind</li>
<li>online desktop，与 web 集成</li>
</ul>



<h4>说明</h4>

<ul>
<li>消息驱动机制，拟支持等待多个事件源，如 socket, 子进程退出和内核事件等；并且要降低消息源与消息目标之间的耦合程度</li>
<li>需要支持多种输入的设备：鼠标、键盘、触摸屏、jobstick、.....</li>
<li>关于控件，使用容器机制分离控件的职责，将控件做成容器，它可以容纳其它控件,容器机制的实现是使用组合还是继承，据说前者更符合现代设计规则。</li>
<li>使用 layout 机制，避免硬编码</li>
<li>resolution independence</li>
<li>text/font 模块需要考虑 Unicode 的支持，考虑 Bidi 文本的处理</li>
</ul>



<h4>另外需要考虑的几点</h4>

<ul>
<li>separate engine and UI code</li>
<li>not hard-coding:

<ul>
<li>layout information</li>
<li>screen resolutin</li>
<li>screen color depth</li>
</ul></li>
<li>design scalability in mind from the very beginning.</li>
</ul>




<h4>Reference</h4>

<ol>
<li>PhotoShop/Gimp Filter</li>
<li><a href="http://www.51hkj.com/as/Help/PAS3/00000197.html">ActionScript3.0 的显示虑镜</a></li>
<li><a href="http://www.ibm.com/developerworks/cn/linux/embed/minigui/minigui-5/index.html">MiniGUI 的窗口剪切算法</a></li>
</ol>


<!-- Page published by Emacs Muse ends here -->

<br />
<br />

<!-- DISQUS block -->
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'linuxgraphics'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
 <!-- END OF DISQUS BLOCK --> 


                </td>
            </tr>
        </table>
    </td>
    </tr>
    </table>
    </table>

    <table align="center" width="100%">
    <tr><td>      
        <hr>
        <div id="footer">
            <p> 版权所有：Linux GUI 技术网。 本站所转载、链接、引用及翻译的内容等，其版权属于各自合法的拥有者。
            </p>
            <p>
                本站由&nbsp;<a href="mailto:lphpc@163.com">刘鹏</a>&nbsp;创建并维护
                &nbsp;&middot;&nbsp;
                <a href="http://mwolson.org/projects/EmacsMuse.html">
                    <img src="../images/muse-grey-bar.png" />
                </a> 
            &nbsp;&nbsp;&nbsp;&nbsp;
            <script src="http://count.xcdv.com/cf.aspx?username=lphpc"></script>
           </p>
           <p>
                <a href = "http://www.miibeian.gov.cn/">京ICP备09032071号</a>
           </p>
           
       </div> <!-- div-footer -->
        
    </td></tr>
    </table>

  </div> <!-- div-wrap -->
</body>


</html>
